{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport Modal from \"../components/customModal\";\nimport MaterialIcons from \"@expo/vector-icons/MaterialIcons\";\nimport MaterialCommunityIcons from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport moment from \"moment\";\nimport * as Animatable from 'react-native-animatable';\nimport * as SQLite from 'expo-sqlite';\nimport * as Location from 'expo-location';\nimport Route from \"../hooks/routes\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar bd = SQLite.openDatabase('localhost.db', '1.0');\nvar windowHeight = Dimensions.get('screen').height;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingTop: 30,\n    minHeight: Math.round(windowHeight),\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  image: {\n    width: '100%',\n    height: '100%',\n    position: 'absolute',\n    opacity: 0.3\n  },\n  header: {\n    flex: 0.5\n  },\n  action: {\n    padding: 10,\n    flexDirection: 'row',\n    width: '100%',\n    marginBottom: 10,\n    backgroundColor: '#fff',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.2,\n    shadowRadius: 8,\n    elevation: 10\n  },\n  descAction: {\n    padding: 10,\n    flexDirection: 'row',\n    width: '100%',\n    marginBottom: 10,\n    backgroundColor: '#fff',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.2,\n    shadowRadius: 8,\n    elevation: 10\n  },\n  body: {\n    flex: 10,\n    width: '100%',\n    height: '100%'\n  },\n  card: {\n    backgroundColor: '#fff',\n    width: '100%',\n    height: '100%'\n  },\n  itemContainer: {\n    margin: 10,\n    padding: 10,\n    backgroundColor: '#fff',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.2,\n    shadowRadius: 8,\n    elevation: 10\n  },\n  timeAction: {\n    borderBottomColor: '#000',\n    borderBottomWidth: 1,\n    width: 30,\n    height: 40,\n    justifyContent: 'center',\n    alignItems: 'center',\n    fontSize: 14,\n    fontWeight: 'bold',\n    color: '#000'\n  },\n  labor: {\n    padding: 10,\n    backgroundColor: '#fff',\n    borderRadius: 10,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.2,\n    shadowRadius: 8,\n    elevation: 10\n  },\n  footer: {\n    flex: 0.5,\n    width: '100%',\n    height: '100%'\n  }\n});\nexport default function detalleVehiculo(_ref) {\n  var navigation = _ref.navigation;\n  var vehiculo = navigation.getParam('vehiculo', '0');\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      faenaVehiculo = _useState2[0],\n      setFaenaVehiculo = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      user = _useState4[0],\n      setUser = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      iniciarModal = _useState6[0],\n      setIniciarModal = _useState6[1];\n\n  var _useState7 = useState(true),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loading = _useState8[0],\n      setLoading = _useState8[1];\n\n  var _useState9 = useState(true),\n      _useState10 = _slicedToArray(_useState9, 2),\n      btnIniciar = _useState10[0],\n      setBtnIniciar = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      btnDetencion = _useState12[0],\n      setBtnDetener = _useState12[1];\n\n  var _useState13 = useState({}),\n      _useState14 = _slicedToArray(_useState13, 2),\n      myLocation = _useState14[0],\n      setLocation = _useState14[1];\n\n  var today = moment().format('YYYY-MM-DD');\n  var date = new Date();\n\n  var _useState15 = useState(date.getHours() < 9 ? '0' + date.getHours() : date.getHours()),\n      _useState16 = _slicedToArray(_useState15, 2),\n      hora = _useState16[0],\n      setHora = _useState16[1];\n\n  var _useState17 = useState(date.getMinutes() < 9 ? '0' + date.getMinutes() : date.getMinutes()),\n      _useState18 = _slicedToArray(_useState17, 2),\n      minutos = _useState18[0],\n      setMinutos = _useState18[1];\n\n  var getIdUsuario = function getIdUsuario(usuario) {\n    bd.transaction(function (tx) {\n      tx.executeSql('select id_usuario from usuario where nombre_usuario = ?;', [usuario], function (tx, res) {\n        setUser(res.rows._array[0].id_usuario);\n      }, function (tx, error) {\n        console.error(error.message);\n      });\n    });\n  };\n\n  var getFaenaVehiculo = function getFaenaVehiculo() {\n    bd.transaction(function (tx) {\n      tx.executeSql('SELECT * FROM faena_vehiculo WHERE id_vehiculo = ?;', [vehiculo.id_vehiculo], function (tx, res) {\n        setFaenaVehiculo(res.rows._array[0]);\n        bd.transaction(function (tx) {\n          tx.executeSql('SELECT funcionando FROM funcionamiento_vehiculo WHERE id_faena_vehiculo = ? AND cerrada = 0;', [res.rows._array[0].id_faena_vehiculo], function (tx, subRes) {\n            if (subRes.rows.length == 0) {\n              setBtnIniciar(true);\n              setBtnDetener(false);\n            } else if (subRes.rows._array[0].funcionando == 1) {\n              setBtnIniciar(false);\n              setBtnDetener(true);\n            } else {\n              setBtnIniciar(true);\n              setBtnDetener(false);\n            }\n          }, function (tx, error) {\n            console.error(error.message);\n          });\n        });\n      }, function (tx, error) {\n        console.error(error.message);\n      });\n    });\n  };\n\n  useEffect(function () {\n    (function _callee() {\n      var _await$Location$reque, status, location;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Location.requestForegroundPermissionsAsync());\n\n            case 2:\n              _await$Location$reque = _context.sent;\n              status = _await$Location$reque.status;\n\n              if (!(status !== 'granted')) {\n                _context.next = 8;\n                break;\n              }\n\n              Alert.alert('Permisos Denegados', 'Es necesario saber su ubicación para que la Aplicación funcione.', [{\n                text: \"Entendido\",\n                onPress: function onPress() {\n                  return navigation.replace('Sync');\n                }\n              }]);\n              _context.next = 12;\n              break;\n\n            case 8:\n              _context.next = 10;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}));\n\n            case 10:\n              location = _context.sent;\n              setLocation(location);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n\n    getFaenaVehiculo();\n\n    _loadUser();\n  }, []);\n\n  var _loadUser = function _loadUser() {\n    var _user;\n\n    return _regeneratorRuntime.async(function _loadUser$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('user'));\n\n          case 3:\n            _user = _context2.sent;\n            getIdUsuario(_user);\n            _context2.next = 12;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.error('Error al traer los datos para el inicio de sesión: ');\n            console.error(_context2.t0);\n            Alert.alert('Error al Iniciar Sesión', 'Hemos tenido un inconveniente recuperar los datos del Usuario', [{\n              text: 'Entendido'\n            }]);\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  setTimeout(function () {\n    setLoading(false);\n  }, 1000);\n  return _jsxs(View, {\n    animation: 'fadeInUpBig',\n    style: styles.container,\n    children: [_jsx(StatusBar, {\n      barStyle: \"dark-content\",\n      translucent: true,\n      backgroundColor: \"transparent\"\n    }), !loading ? _jsx(ScrollView, {\n      style: styles.body,\n      children: _jsx(View, {\n        style: styles.card,\n        children: _jsxs(View, {\n          style: {\n            paddingTop: 20,\n            paddingLeft: 20,\n            paddingRight: 20,\n            justifyContent: 'center'\n          },\n          children: [_jsx(Text, {\n            style: {\n              fontSize: 30,\n              fontWeight: 'bold',\n              color: '#000',\n              marginBottom: 10\n            },\n            children: \"Detalle del Veh\\xEDculo:\"\n          }), _jsx(Text, {\n            style: {\n              fontSize: 14,\n              fontWeight: 'bold',\n              color: 'gray',\n              marginTop: 10\n            },\n            children: \"Informaci\\xF3n General:\"\n          }), _jsxs(View, {\n            style: styles.itemContainer,\n            children: [_jsxs(View, {\n              style: {\n                marginBottom: 10,\n                flexDirection: 'row',\n                alignItems: 'center'\n              },\n              children: [_jsx(Text, {\n                style: {\n                  fontSize: 14,\n                  fontWeight: 'bold',\n                  color: '#000'\n                },\n                children: \"Tipo de Vehiculo: \"\n              }), _jsx(Text, {\n                style: {\n                  fontSize: 14\n                },\n                children: vehiculo.nombre_tipo_vehiculo\n              })]\n            }), _jsxs(View, {\n              style: {\n                marginBottom: 10,\n                flexDirection: 'row',\n                alignItems: 'center'\n              },\n              children: [_jsx(Text, {\n                style: {\n                  fontSize: 14,\n                  fontWeight: 'bold',\n                  color: '#000'\n                },\n                children: \"Patente: \"\n              }), _jsx(Text, {\n                style: {\n                  fontSize: 14\n                },\n                children: vehiculo.patente\n              })]\n            }), _jsxs(View, {\n              style: {\n                marginBottom: 10,\n                flexDirection: 'row',\n                alignItems: 'center'\n              },\n              children: [_jsx(Text, {\n                style: {\n                  fontSize: 14,\n                  fontWeight: 'bold',\n                  color: '#000'\n                },\n                children: \"Proveedor: \"\n              }), _jsx(Text, {\n                style: {\n                  fontSize: 14\n                },\n                children: vehiculo.nombre_proveedor\n              })]\n            })]\n          }), _jsx(Text, {\n            style: {\n              fontSize: 14,\n              fontWeight: 'bold',\n              color: 'gray',\n              marginTop: 10\n            },\n            children: \"Procesos: \"\n          }), _jsx(View, {\n            style: styles.itemContainer,\n            children: _jsxs(View, {\n              style: {\n                alignItems: 'center',\n                justifyContent: 'center'\n              },\n              children: [_jsx(Text, {\n                style: {\n                  fontSize: 14,\n                  fontWeight: 'bold',\n                  color: '#000',\n                  marginLeft: 5\n                },\n                children: \"Maquina en Funcionamiento:\"\n              }), _jsxs(View, {\n                style: {\n                  flexDirection: 'row',\n                  marginTop: 10\n                },\n                children: [_jsx(TouchableOpacity, {\n                  onPress: function onPress() {\n                    return handleCambiarEstado('iniciar');\n                  },\n                  style: {\n                    backgroundColor: btnIniciar ? 'green' : 'gray',\n                    width: 100,\n                    height: 30,\n                    borderRadius: 10,\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    marginRight: 10\n                  },\n                  children: _jsx(Text, {\n                    style: {\n                      fontSize: 14,\n                      fontWeight: 'bold',\n                      color: '#fff'\n                    },\n                    children: \"Iniciar\"\n                  })\n                }), _jsx(TouchableOpacity, {\n                  onPress: function onPress() {\n                    return handleCambiarEstado('detener');\n                  },\n                  style: {\n                    backgroundColor: btnDetencion ? 'red' : 'gray',\n                    width: 100,\n                    height: 30,\n                    borderRadius: 10,\n                    alignItems: 'center',\n                    justifyContent: 'center'\n                  },\n                  children: _jsx(Text, {\n                    style: {\n                      fontSize: 14,\n                      fontWeight: 'bold',\n                      color: '#fff'\n                    },\n                    children: \"Detener\"\n                  })\n                })]\n              })]\n            })\n          }), _jsx(View, {\n            style: styles.itemContainer,\n            children: _jsx(TouchableOpacity, {\n              children: _jsxs(View, {\n                style: {\n                  flexDirection: 'row',\n                  alignItems: 'center',\n                  justifyContent: 'center'\n                },\n                children: [_jsxs(View, {\n                  style: {\n                    flex: 10,\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    flexDirection: 'row'\n                  },\n                  children: [_jsx(MaterialCommunityIcons, {\n                    name: \"gas-station\",\n                    color: \"#000\",\n                    size: 20\n                  }), _jsx(Text, {\n                    style: {\n                      fontSize: 14,\n                      fontWeight: 'bold',\n                      color: '#000',\n                      marginLeft: 10\n                    },\n                    children: \"Cargar Combustible\"\n                  })]\n                }), _jsx(View, {\n                  style: {\n                    flex: 1\n                  },\n                  children: _jsx(MaterialIcons, {\n                    name: \"keyboard-arrow-right\",\n                    color: \"lightgray\",\n                    size: 20\n                  })\n                })]\n              })\n            })\n          }), _jsx(View, {\n            style: styles.itemContainer,\n            children: _jsx(TouchableOpacity, {\n              children: _jsxs(View, {\n                style: {\n                  flexDirection: 'row',\n                  alignItems: 'center',\n                  justifyContent: 'center'\n                },\n                children: [_jsxs(View, {\n                  style: {\n                    flex: 10,\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    flexDirection: 'row'\n                  },\n                  children: [_jsx(MaterialIcons, {\n                    name: \"report-problem\",\n                    color: \"orange\",\n                    size: 20\n                  }), _jsx(Text, {\n                    style: {\n                      fontSize: 14,\n                      fontWeight: 'bold',\n                      color: '#000',\n                      marginLeft: 10\n                    },\n                    children: \"Reportar Problema\"\n                  })]\n                }), _jsx(View, {\n                  style: {\n                    flex: 1\n                  },\n                  children: _jsx(MaterialIcons, {\n                    name: \"keyboard-arrow-right\",\n                    color: \"lightgray\",\n                    size: 20\n                  })\n                })]\n              })\n            })\n          })]\n        })\n      })\n    }) : _jsxs(Animatable.View, {\n      animation: 'fadeInUpBig',\n      style: {\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: [_jsx(Text, {\n        style: {\n          fontSize: 28,\n          fontWeight: 'bold'\n        },\n        children: \"Cargando...\"\n      }), _jsx(Animatable.View, {\n        animation: \"tada\",\n        easing: \"ease-out\",\n        iterationCount: \"infinite\",\n        children: _jsx(MaterialCommunityIcons, {\n          name: \"dump-truck\",\n          size: 40,\n          color: \"#000\"\n        })\n      })]\n    })]\n  });\n}","map":{"version":3,"sources":["/Users/datamaule/workspace/miSupervisor/App/src/detalleVehiculo.js"],"names":["React","useEffect","useRef","useState","AsyncStorage","Modal","MaterialIcons","MaterialCommunityIcons","moment","Animatable","SQLite","Location","Route","bd","openDatabase","windowHeight","Dimensions","get","height","styles","StyleSheet","create","container","flex","paddingTop","minHeight","Math","round","backgroundColor","alignItems","justifyContent","image","width","position","opacity","header","action","padding","flexDirection","marginBottom","borderRadius","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","descAction","body","card","itemContainer","margin","timeAction","borderBottomColor","borderBottomWidth","fontSize","fontWeight","color","labor","footer","detalleVehiculo","navigation","vehiculo","getParam","faenaVehiculo","setFaenaVehiculo","user","setUser","iniciarModal","setIniciarModal","loading","setLoading","btnIniciar","setBtnIniciar","btnDetencion","setBtnDetener","myLocation","setLocation","today","format","date","Date","getHours","hora","setHora","getMinutes","minutos","setMinutos","getIdUsuario","usuario","transaction","tx","executeSql","res","rows","_array","id_usuario","error","console","message","getFaenaVehiculo","id_vehiculo","id_faena_vehiculo","subRes","length","funcionando","requestForegroundPermissionsAsync","status","Alert","alert","text","onPress","replace","getCurrentPositionAsync","location","_loadUser","getItem","setTimeout","paddingLeft","paddingRight","marginTop","nombre_tipo_vehiculo","patente","nombre_proveedor","marginLeft","handleCambiarEstado","marginRight"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { View, StyleSheet, Text, FlatList, TextInput, StatusBar, TouchableOpacity, Dimensions, ScrollView, Alert } from 'react-native'\nimport AsyncStorage from '@react-native-async-storage/async-storage'\n\nimport Modal from '../components/customModal'\nimport MaterialIcons from 'react-native-vector-icons/MaterialIcons'\nimport MaterialCommunityIcons from 'react-native-vector-icons/MaterialCommunityIcons'\nimport moment from \"moment\";\n\nimport * as Animatable from 'react-native-animatable'\nimport * as SQLite from 'expo-sqlite'\nimport * as Location from 'expo-location';\nimport Route from '../hooks/routes'\n\nconst bd = SQLite.openDatabase('localhost.db', '1.0')\nconst windowHeight = Dimensions.get('screen').height;\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        paddingTop: 30,\n        minHeight: Math.round(windowHeight),\n        backgroundColor: '#fff',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n\n    image: {\n        width: '100%',\n        height: '100%',\n        position: 'absolute',\n        opacity: 0.3,\n    },\n\n    header: {\n        flex: 0.5,\n    },\n\n    action: {\n        padding: 10,\n        flexDirection: 'row',\n        width: '100%',\n        marginBottom: 10,\n        backgroundColor: '#fff',\n        borderRadius: 10,\n\n        shadowColor: '#000',\n        shadowOffset: { width: 0, height: 2 },\n        shadowOpacity: 0.2,\n        shadowRadius: 8,\n        elevation: 10,\n    },\n\n    descAction: {\n        padding: 10,\n        flexDirection: 'row',\n        width: '100%',\n        marginBottom: 10,\n        backgroundColor: '#fff',\n        borderRadius: 10,\n\n        shadowColor: '#000',\n        shadowOffset: { width: 0, height: 2 },\n        shadowOpacity: 0.2,\n        shadowRadius: 8,\n        elevation: 10,\n    },\n\n    body: {\n        flex: 10,\n        width: '100%',\n        height: '100%',\n        //backgroundColor: 'red',\n    },\n\n    card: {\n        backgroundColor: '#fff',\n        width: '100%',\n        height: '100%',\n    },\n\n    itemContainer: {\n        margin: 10,\n        padding: 10,\n        backgroundColor: '#fff',\n        borderRadius: 10,\n\n        shadowColor: '#000',\n        shadowOffset: { width: 0, height: 2 },\n        shadowOpacity: 0.2,\n        shadowRadius: 8,\n        elevation: 10,\n    },\n\n    timeAction: {\n        borderBottomColor: '#000',\n        borderBottomWidth: 1,\n        width: 30,\n        height: 40,\n        justifyContent: 'center',\n        alignItems: 'center',\n        fontSize: 14,\n        fontWeight: 'bold',\n        color: '#000',\n    },\n\n    labor: {\n        padding: 10,\n        backgroundColor: '#fff',\n        borderRadius: 10,\n\n        shadowColor: '#000',\n        shadowOffset: { width: 0, height: 2 },\n        shadowOpacity: 0.2,\n        shadowRadius: 8,\n        elevation: 10,\n    },\n\n    footer: {\n        flex: 0.5,\n        width: '100%',\n        height: '100%',\n        //backgroundColor: 'red'\n    },\n})\n\nexport default function detalleVehiculo({ navigation }) {\n    const vehiculo = navigation.getParam('vehiculo', '0')\n    const [faenaVehiculo, setFaenaVehiculo] = useState({})\n    const [user, setUser] = useState(0)\n\n    const [iniciarModal, setIniciarModal] = useState(false)\n    const [loading, setLoading] = useState(true)\n\n    const [btnIniciar, setBtnIniciar] = useState(true)\n    const [btnDetencion, setBtnDetener] = useState(false)\n    const [myLocation, setLocation] = useState({})\n\n    const today = moment().format('YYYY-MM-DD')\n    const date = new Date()\n    const [hora, setHora] = useState(date.getHours() < 9 ? '0' + date.getHours() : date.getHours())\n    const [minutos, setMinutos] = useState(date.getMinutes() < 9 ? '0' + date.getMinutes() : date.getMinutes())\n\n    const getIdUsuario = (usuario) => {\n        bd.transaction(tx => {\n            tx.executeSql(\n                'select id_usuario from usuario where nombre_usuario = ?;',\n                [usuario],\n                (tx, res) => {\n                    setUser(res.rows._array[0].id_usuario)\n                },\n                (tx, error) => {\n                    console.error(error.message)\n                },\n            )\n        })\n    }\n\n    const getFaenaVehiculo = () => {\n        bd.transaction(tx => {\n            tx.executeSql(\n                'SELECT * FROM faena_vehiculo WHERE id_vehiculo = ?;', [vehiculo.id_vehiculo],\n                (tx, res) => {\n                    setFaenaVehiculo(res.rows._array[0])\n\n                    bd.transaction(tx => {\n                        tx.executeSql(\n                            'SELECT funcionando FROM funcionamiento_vehiculo WHERE id_faena_vehiculo = ? AND cerrada = 0;',\n                            [res.rows._array[0].id_faena_vehiculo],\n                            (tx, subRes) => {\n                                if (subRes.rows.length == 0) {\n                                    setBtnIniciar(true)\n                                    setBtnDetener(false)\n                                }\n                                else if (subRes.rows._array[0].funcionando == 1) {\n                                    setBtnIniciar(false)\n                                    setBtnDetener(true)\n                                }\n                                else {\n                                    setBtnIniciar(true)\n                                    setBtnDetener(false)\n                                }\n                            },\n                            (tx, error) => {\n                                console.error(error.message)\n                            },\n                        )\n                    })\n\n                },\n                (tx, error) => {\n                    console.error(error.message)\n                },\n            )\n        })\n    }\n\n    useEffect(() => {\n        (async () => {\n            let { status } = await Location.requestForegroundPermissionsAsync()\n            if (status !== 'granted') {\n                Alert.alert('Permisos Denegados', 'Es necesario saber su ubicación para que la Aplicación funcione.', [{\n                    text: \"Entendido\",\n                    onPress: () => navigation.replace('Sync')\n                }])\n            }\n            else {\n                let location = await Location.getCurrentPositionAsync({})\n                setLocation(location)\n            }\n        })()\n        getFaenaVehiculo()\n        _loadUser()\n    }, [])\n\n    const _loadUser = async () => {\n        try {\n            const user = await AsyncStorage.getItem('user')\n            getIdUsuario(user)\n        }\n        catch (e) {\n            console.error('Error al traer los datos para el inicio de sesión: ')\n            console.error(e)\n\n            Alert.alert(\n                'Error al Iniciar Sesión',\n                'Hemos tenido un inconveniente recuperar los datos del Usuario',\n                [{ text: 'Entendido', }]\n            )\n        }\n    }\n\n    setTimeout(() => {\n        setLoading(false)\n    }, 1000)\n\n    return (\n        <View animation={'fadeInUpBig'} style={styles.container}>\n            <StatusBar barStyle='dark-content' translucent backgroundColor=\"transparent\" />\n            {!loading ? (\n                <ScrollView style={styles.body}>\n                    <View style={styles.card}>\n                        <View style={{ paddingTop: 20, paddingLeft: 20, paddingRight: 20, justifyContent: 'center' }}>\n                            <Text style={{ fontSize: 30, fontWeight: 'bold', color: '#000', marginBottom: 10, }}>Detalle del Vehículo:</Text>\n\n                            <Text style={{ fontSize: 14, fontWeight: 'bold', color: 'gray', marginTop: 10, }}>Información General:</Text>\n                            <View style={styles.itemContainer}>\n                                <View style={{ marginBottom: 10, flexDirection: 'row', alignItems: 'center' }}>\n                                    <Text style={{ fontSize: 14, fontWeight: 'bold', color: '#000' }}>Tipo de Vehiculo: </Text>\n                                    <Text style={{ fontSize: 14, }}>{vehiculo.nombre_tipo_vehiculo}</Text>\n                                </View>\n\n                                <View style={{ marginBottom: 10, flexDirection: 'row', alignItems: 'center' }}>\n                                    <Text style={{ fontSize: 14, fontWeight: 'bold', color: '#000' }}>Patente: </Text>\n                                    <Text style={{ fontSize: 14, }}>{vehiculo.patente}</Text>\n                                </View>\n\n                                <View style={{ marginBottom: 10, flexDirection: 'row', alignItems: 'center' }}>\n                                    <Text style={{ fontSize: 14, fontWeight: 'bold', color: '#000' }}>Proveedor: </Text>\n                                    <Text style={{ fontSize: 14, }}>{vehiculo.nombre_proveedor}</Text>\n                                </View>\n\n                            </View>\n\n                            <Text style={{ fontSize: 14, fontWeight: 'bold', color: 'gray', marginTop: 10, }}>Procesos: </Text>\n                            <View style={styles.itemContainer}>\n                                <View style={{ alignItems: 'center', justifyContent: 'center', }}>\n                                    <Text style={{ fontSize: 14, fontWeight: 'bold', color: '#000', marginLeft: 5, }}>Maquina en Funcionamiento:</Text>\n\n                                    <View style={{ flexDirection: 'row', marginTop: 10, }}>\n                                        <TouchableOpacity\n                                            onPress={() => handleCambiarEstado('iniciar')}\n                                            style={{ backgroundColor: btnIniciar ? 'green' : 'gray', width: 100, height: 30, borderRadius: 10, alignItems: 'center', justifyContent: 'center', marginRight: 10, }}>\n\n                                            <Text style={{ fontSize: 14, fontWeight: 'bold', color: '#fff' }}>Iniciar</Text>\n\n                                        </TouchableOpacity>\n\n                                        <TouchableOpacity\n                                            onPress={() => handleCambiarEstado('detener')}\n                                            style={{ backgroundColor: btnDetencion ? 'red' : 'gray', width: 100, height: 30, borderRadius: 10, alignItems: 'center', justifyContent: 'center' }}\n                                        >\n\n                                            <Text style={{ fontSize: 14, fontWeight: 'bold', color: '#fff' }}>Detener</Text>\n                                        </TouchableOpacity>\n                                    </View>\n\n                                </View>\n                            </View>\n\n                            <View style={styles.itemContainer}>\n                                <TouchableOpacity>\n                                    <View style={{ flexDirection: 'row', alignItems: 'center', justifyContent: 'center' }}>\n                                        <View style={{ flex: 10, alignItems: 'center', justifyContent: 'center', flexDirection: 'row' }}>\n                                            <MaterialCommunityIcons name='gas-station' color='#000' size={20} />\n                                            <Text style={{ fontSize: 14, fontWeight: 'bold', color: '#000', marginLeft: 10 }}>Cargar Combustible</Text>\n                                        </View>\n\n                                        <View style={{ flex: 1, }}>\n                                            <MaterialIcons name='keyboard-arrow-right' color='lightgray' size={20} />\n                                        </View>\n                                    </View>\n                                </TouchableOpacity>\n                            </View>\n\n                            <View style={styles.itemContainer}>\n                                <TouchableOpacity>\n                                    <View style={{ flexDirection: 'row', alignItems: 'center', justifyContent: 'center' }}>\n                                        <View style={{ flex: 10, alignItems: 'center', justifyContent: 'center', flexDirection: 'row' }}>\n                                            <MaterialIcons name='report-problem' color='orange' size={20} />\n                                            <Text style={{ fontSize: 14, fontWeight: 'bold', color: '#000', marginLeft: 10 }}>Reportar Problema</Text>\n                                        </View>\n\n                                        <View style={{ flex: 1, }}>\n                                            <MaterialIcons name='keyboard-arrow-right' color='lightgray' size={20} />\n                                        </View>\n                                    </View>\n                                </TouchableOpacity>\n                            </View>\n\n                        </View>\n                    </View>\n                </ScrollView>\n            ) : (\n                <Animatable.View animation={'fadeInUpBig'} style={{ alignItems: 'center', justifyContent: 'center' }}>\n                    <Text style={{ fontSize: 28, fontWeight: 'bold' }}>Cargando...</Text>\n\n                    <Animatable.View animation=\"tada\" easing=\"ease-out\" iterationCount=\"infinite\">\n                        <MaterialCommunityIcons name='dump-truck' size={40} color='#000' />\n                    </Animatable.View>\n                </Animatable.View>\n            )}\n\n        </View>\n    )\n}"]},"metadata":{},"sourceType":"module"}