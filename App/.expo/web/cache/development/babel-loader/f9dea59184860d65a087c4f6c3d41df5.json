{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport MaterialIcons from \"@expo/vector-icons/MaterialIcons\";\nimport MaterialCommunityIcons from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport * as Animatable from 'react-native-animatable';\nimport * as SQLite from 'expo-sqlite';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar bd = SQLite.openDatabase('localhost.db', '1.0');\nvar windowHeight = Dimensions.get('screen').height;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    minHeight: Math.round(windowHeight),\n    backgroundColor: '#fff'\n  },\n  image: {\n    width: '100%',\n    height: '100%',\n    position: 'absolute',\n    opacity: 0.3\n  },\n  header: {\n    flex: 0.5\n  },\n  action: {\n    flexDirection: 'row',\n    width: '100%',\n    backgroundColor: '#fff',\n    borderRadius: 10,\n    paddingTop: 10,\n    paddingLeft: 10,\n    paddingRight: 10,\n    paddingBottom: 10,\n    borderWidth: 1,\n    borderColor: 'lightgray',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.2,\n    shadowRadius: 8,\n    elevation: 10\n  },\n  body: {\n    flex: 10,\n    width: '100%',\n    height: '100%',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  card: {\n    backgroundColor: '#fff',\n    width: '100%',\n    height: '100%'\n  },\n  itemContainer: {\n    margin: 10,\n    padding: 10,\n    backgroundColor: '#fff',\n    borderRadius: 10,\n    flexDirection: 'row',\n    alignItems: 'center',\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.2,\n    shadowRadius: 8,\n    elevation: 10\n  },\n  footer: {\n    flex: 0.5,\n    width: '100%',\n    height: '100%'\n  }\n});\nexport default function vehiculosFaena(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      vehiculoFaena = _useState2[0],\n      setVehiculoFaena = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      filterVehiculoFaena = _useState4[0],\n      setFilterVehiculoFaena = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      busqueda = _useState6[0],\n      setBusqueda = _useState6[1];\n\n  var idUsuario = navigation.getParam('idFaena', '0');\n\n  var filtrarVehiculo = function filtrarVehiculo(text) {\n    if (text) {\n      console.log(text);\n      var newData = vehiculoFaena.filter(function (item) {\n        var itemData = item.nombre_tipo_vehiculo + ' ' + item.patente + ' ' + item.nombre_proveedor.toUpperCase();\n        var textData = text.toUpperCase();\n        console.log(itemData);\n        console.log(textData);\n        return itemData.indexOf(textData) > -1;\n      });\n      setBusqueda(text);\n      setFilterVehiculoFaena(newData);\n    } else {\n      setBusqueda(text);\n      setFilterVehiculoFaena(vehiculoFaena);\n    }\n  };\n\n  var goDetalleVehiculo = function goDetalleVehiculo(item) {\n    navigation.navigate('DetalleVehiculo', {\n      vehiculo: item\n    });\n  };\n\n  var goSincronizar = function goSincronizar() {\n    navigation.replace('Sync');\n  };\n\n  var getVehiculoFaena = function getVehiculoFaena() {\n    bd.transaction(function (tx) {\n      tx.executeSql('select v.id_vehiculo, v.patente, tv.nombre_tipo_vehiculo, p.nombre_proveedor from faena_vehiculo fv join vehiculo v on v.id_vehiculo = fv.id_vehiculo join proveedor p on p.id_proveedor = v.id_proveedor join tipo_vehiculo tv on v.id_tipo_vehiculo = tv.id_tipo_vehiculo join faena f on f.id_faena = fv.id_faena where f.id_faena = ?;', [idUsuario], function (tx, res) {\n        setVehiculoFaena(res.rows._array);\n        setFilterVehiculoFaena(res.rows._array);\n      }, function (tx, e) {\n        console.error(e);\n      });\n    });\n  };\n\n  useEffect(function () {\n    getVehiculoFaena();\n  }, []);\n  console.log(vehiculoFaena, filterVehiculoFaena);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(StatusBar, {\n      barStyle: \"dark-content\",\n      translucent: true,\n      backgroundColor: \"transparent\"\n    }), _jsx(View, {\n      style: styles.header\n    }), _jsx(Animatable.View, {\n      animation: 'fadeInUpBig',\n      style: styles.body,\n      children: _jsx(View, {\n        style: styles.card,\n        children: _jsxs(View, {\n          style: {\n            paddingTop: 20,\n            paddingLeft: 20,\n            paddingRight: 20,\n            justifyContent: 'center'\n          },\n          children: [_jsx(Text, {\n            style: {\n              fontSize: 30,\n              fontWeight: 'bold',\n              color: '#000',\n              marginBottom: 10\n            },\n            children: \"Veh\\xEDculos\"\n          }), _jsxs(View, {\n            style: styles.action,\n            children: [_jsx(MaterialIcons, {\n              color: \"gray\",\n              name: \"search\",\n              size: 20,\n              style: {\n                flex: 1,\n                marginRight: 10,\n                alignSelf: 'center'\n              }\n            }), _jsx(TextInput, {\n              placeholder: \"Buscar Vehiculo\",\n              style: {\n                width: '100%',\n                flex: 10\n              },\n              onChangeText: function onChangeText(text) {\n                return filtrarVehiculo(text);\n              },\n              value: busqueda\n            })]\n          }), filterVehiculoFaena.length > 0 ? _jsx(FlatList, {\n            data: filterVehiculoFaena,\n            keyExtractor: function keyExtractor(x) {\n              return filterVehiculoFaena.indexOf(x);\n            },\n            renderItem: function renderItem(_ref2) {\n              var item = _ref2.item;\n              return _jsx(View, {\n                style: styles.itemContainer,\n                children: _jsxs(TouchableOpacity, {\n                  onPress: function onPress() {\n                    return goDetalleVehiculo(item);\n                  },\n                  children: [_jsxs(View, {\n                    style: {\n                      flexDirection: 'row',\n                      width: '100%'\n                    },\n                    children: [_jsx(MaterialIcons, {\n                      name: \"fiber-manual-record\",\n                      color: \"#5dd069\",\n                      size: 10,\n                      style: {\n                        flex: 1,\n                        alignSelf: 'center'\n                      }\n                    }), _jsx(Text, {\n                      style: {\n                        flex: 15,\n                        fontSize: 14,\n                        fontWeight: 'bold',\n                        color: '#000'\n                      },\n                      children: item.nombre_tipo_vehiculo\n                    })]\n                  }), _jsxs(Text, {\n                    style: {\n                      fontSize: 12,\n                      fontWeight: 'bold',\n                      color: 'gray',\n                      marginTop: 2\n                    },\n                    children: [\"PATENTE: \", item.patente]\n                  }), _jsxs(Text, {\n                    style: {\n                      fontSize: 12,\n                      fontWeight: 'bold',\n                      color: 'gray',\n                      marginTop: 2\n                    },\n                    children: [\"PROVEEDOR: \", item.nombre_proveedor]\n                  })]\n                })\n              });\n            }\n          }, function (x) {\n            return filterVehiculoFaena.indexOf(x);\n          }) : _jsxs(View, {\n            style: {\n              width: '100%',\n              height: '90%',\n              alignItems: 'center',\n              justifyContent: 'center'\n            },\n            children: [_jsx(Animatable.View, {\n              animation: \"tada\",\n              easing: \"ease-out\",\n              iterationCount: \"infinite\",\n              children: _jsx(MaterialCommunityIcons, {\n                name: \"dump-truck\",\n                color: \"#000\",\n                size: 80\n              })\n            }), _jsx(Text, {\n              style: {\n                color: '#000',\n                fontSize: 20,\n                fontWeight: 'bold'\n              },\n              children: \"\\xA1Sin Veh\\xEDculos en esta Faena!\"\n            }), _jsxs(TouchableOpacity, {\n              style: {\n                flexDirection: 'row'\n              },\n              onPress: function onPress() {\n                return goSincronizar();\n              },\n              children: [_jsx(Text, {\n                style: {\n                  fontSize: 12,\n                  fontWeight: 'bold',\n                  color: 'gray'\n                },\n                children: \"Puede intentar \"\n              }), _jsx(Text, {\n                style: {\n                  fontSize: 12,\n                  fontWeight: 'bold',\n                  color: 'blue'\n                },\n                children: \"volver a Sincronizar. \"\n              })]\n            })]\n          })]\n        })\n      })\n    })]\n  });\n}","map":{"version":3,"sources":["/Users/datamaule/workspace/miSupervisor/App/src/vehiculoFaena.js"],"names":["React","useEffect","useState","MaterialIcons","MaterialCommunityIcons","Animatable","SQLite","bd","openDatabase","windowHeight","Dimensions","get","height","styles","StyleSheet","create","container","flex","minHeight","Math","round","backgroundColor","image","width","position","opacity","header","action","flexDirection","borderRadius","paddingTop","paddingLeft","paddingRight","paddingBottom","borderWidth","borderColor","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","body","alignItems","justifyContent","card","itemContainer","margin","padding","footer","vehiculosFaena","navigation","vehiculoFaena","setVehiculoFaena","filterVehiculoFaena","setFilterVehiculoFaena","busqueda","setBusqueda","idUsuario","getParam","filtrarVehiculo","text","console","log","newData","filter","item","itemData","nombre_tipo_vehiculo","patente","nombre_proveedor","toUpperCase","textData","indexOf","goDetalleVehiculo","navigate","vehiculo","goSincronizar","replace","getVehiculoFaena","transaction","tx","executeSql","res","rows","_array","e","error","fontSize","fontWeight","color","marginBottom","marginRight","alignSelf","length","x","marginTop"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {View, StyleSheet, Text, Image, TextInput, StatusBar, FlatList, TouchableOpacity, Dimensions} from 'react-native'\n\nimport MaterialIcons from 'react-native-vector-icons/MaterialIcons'\nimport MaterialCommunityIcons from 'react-native-vector-icons/MaterialCommunityIcons'\n\nimport * as Animatable from 'react-native-animatable'\nimport * as SQLite from 'expo-sqlite'\n\nconst bd = SQLite.openDatabase('localhost.db','1.0')\nconst windowHeight = Dimensions.get('screen').height;\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        minHeight: Math.round(windowHeight),\n        backgroundColor: '#fff',\n    },\n\n    image: {\n        width: '100%',\n        height: '100%',\n        position: 'absolute',\n        opacity: 0.3,\n    },\n    \n    header: {\n        flex: 0.5,\n    },\n\n    action: {\n        flexDirection: 'row',\n        width: '100%',\n        backgroundColor: '#fff',\n        borderRadius: 10,\n        paddingTop: 10,\n        paddingLeft: 10,\n        paddingRight: 10,\n        paddingBottom: 10,\n        borderWidth: 1,\n        borderColor: 'lightgray',\n\n        shadowColor: '#000',\n        shadowOffset: { width: 0, height: 2 },\n        shadowOpacity: 0.2,\n        shadowRadius: 8,\n        elevation: 10,\n    },\n\n    body: {\n        flex: 10,\n        width: '100%',\n        height: '100%',\n        alignItems: 'center',\n        justifyContent: 'center',\n        //backgroundColor: 'red',\n    },\n\n    card: {\n        backgroundColor: '#fff',\n        width: '100%',\n        height: '100%',\n    },\n\n    itemContainer: {\n        margin: 10,\n        padding: 10,\n        backgroundColor: '#fff',\n        borderRadius: 10,\n        flexDirection: 'row',\n        alignItems: 'center',\n\n        shadowColor: '#000',\n        shadowOffset: { width: 0, height: 2 },\n        shadowOpacity: 0.2,\n        shadowRadius: 8,\n        elevation: 10,\n    },\n\n    footer: {\n        flex: 0.5,\n        width: '100%',\n        height: '100%',\n        //backgroundColor: 'red'\n    },\n})\n\nexport default function vehiculosFaena({navigation}) {\n    const [vehiculoFaena, setVehiculoFaena] = useState([])\n    const [filterVehiculoFaena, setFilterVehiculoFaena] = useState([])\n\n    const[busqueda, setBusqueda] = useState('')\n    const idUsuario = navigation.getParam('idFaena', '0')\n\n    const filtrarVehiculo = (text) => {\n        if(text){\n            console.log(text)\n            const newData = vehiculoFaena.filter((item) => {\n                const itemData = item.nombre_tipo_vehiculo+' '+item.patente+' '+item.nombre_proveedor.toUpperCase();\n                const textData = text.toUpperCase();\n\n                console.log(itemData)\n                console.log(textData)\n                return itemData.indexOf(textData) > -1;\n            })\n            setBusqueda(text)\n            setFilterVehiculoFaena(newData)\n        }\n        else {\n            setBusqueda(text)\n            setFilterVehiculoFaena(vehiculoFaena)\n        }\n    }\n\n    const goDetalleVehiculo = (item) => {\n        navigation.navigate('DetalleVehiculo', {vehiculo: item})\n    }\n\n    const goSincronizar = () => {\n        navigation.replace('Sync')\n    }\n\n    const getVehiculoFaena = () => {\n        bd.transaction(tx => {\n            tx.executeSql(\n                'select v.id_vehiculo, v.patente, tv.nombre_tipo_vehiculo, p.nombre_proveedor from faena_vehiculo fv join vehiculo v on v.id_vehiculo = fv.id_vehiculo join proveedor p on p.id_proveedor = v.id_proveedor join tipo_vehiculo tv on v.id_tipo_vehiculo = tv.id_tipo_vehiculo join faena f on f.id_faena = fv.id_faena where f.id_faena = ?;',\n                [idUsuario],\n                (tx, res) => {\n                    setVehiculoFaena(res.rows._array)\n                    setFilterVehiculoFaena(res.rows._array)\n                },\n                (tx, e) => {\n                    console.error(e)\n                }\n            )\n        })\n    }\n\n    useEffect(() => {\n        getVehiculoFaena()\n    }, [])\n\n    console.log(vehiculoFaena, filterVehiculoFaena)\n\n    return(\n        <View style={styles.container}>\n            <StatusBar barStyle = 'dark-content' translucent backgroundColor=\"transparent\"/>\n\n            <View style={styles.header}/>\n\n            <Animatable.View animation={'fadeInUpBig'} style={styles.body}>\n                <View style={styles.card}>\n                    <View style={{paddingTop: 20, paddingLeft: 20, paddingRight: 20, justifyContent: 'center'}}>\n                        <Text style={{fontSize: 30, fontWeight: 'bold', color: '#000', marginBottom: 10,}}>Vehículos</Text>\n                        <View style={styles.action}>\n                            <MaterialIcons color=\"gray\" name=\"search\" size={20} style={{flex: 1, marginRight: 10, alignSelf: 'center'}}/>\n                            <TextInput \n                                placeholder=\"Buscar Vehiculo\" \n                                style={{width: '100%', flex: 10}} \n                                onChangeText = {(text) => filtrarVehiculo(text)}\n                                value={busqueda}/>\n                        </View>\n\n                        {\n                            filterVehiculoFaena.length > 0 ? (\n                                <FlatList\n                                    data={filterVehiculoFaena}\n                                    key={(x) => filterVehiculoFaena.indexOf(x)}\n                                    keyExtractor={(x) => filterVehiculoFaena.indexOf(x)}\n                                    renderItem={({item}) => (\n                                        <View style={styles.itemContainer}>\n                                            <TouchableOpacity onPress={() => goDetalleVehiculo(item)}>\n                                                <View style={{flexDirection: 'row', width: '100%',}}>\n                                                    <MaterialIcons name=\"fiber-manual-record\" color=\"#5dd069\" size={10} style={{flex: 1, alignSelf: 'center'}}/>\n                                                    <Text style={{flex: 15, fontSize: 14, fontWeight: 'bold', color: '#000'}}>{item.nombre_tipo_vehiculo}</Text>\n                                                </View>\n                                                <Text style={{fontSize: 12, fontWeight: 'bold', color: 'gray', marginTop: 2,}}>PATENTE: {item.patente}</Text>\n                                                <Text style={{fontSize: 12, fontWeight: 'bold', color: 'gray', marginTop: 2,}}>PROVEEDOR: {item.nombre_proveedor}</Text>\n                                            </TouchableOpacity>\n                                        </View>\n                                    )}\n                                />\n                            ) : (\n                                <View style={{width: '100%',height: '90%', alignItems: 'center', justifyContent: 'center'}}>\n                                    <Animatable.View animation=\"tada\" easing=\"ease-out\" iterationCount=\"infinite\">\n                                        <MaterialCommunityIcons name=\"dump-truck\" color='#000' size={80}/>\n                                    </Animatable.View>\n\n                                    <Text style={{color: '#000', fontSize:20, fontWeight: 'bold'}}>¡Sin Vehículos en esta Faena!</Text>\n                                    <TouchableOpacity style={{flexDirection: 'row'}} onPress={() => goSincronizar()}>\n                                        <Text style={{fontSize: 12, fontWeight: 'bold', color: 'gray',}}>Puede intentar </Text> \n                                        <Text style={{fontSize: 12, fontWeight: 'bold', color: 'blue',}}>volver a Sincronizar. </Text>\n                                    </TouchableOpacity>\n                                </View>\n                            )\n                        }\n                        \n                    </View>\n                </View>\n            </Animatable.View>\n\n        </View>\n    )\n}"]},"metadata":{},"sourceType":"module"}